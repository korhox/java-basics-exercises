<html>
    <head>
        <meta charset="utf-8">
        <title>korho's 4A00EK44-3010</title>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <script src="https://kit.fontawesome.com/ffa6c06f96.js" crossorigin="anonymous"></script>
        <style>
            a {text-decoration: none;}
            a.row {color:black;}
            .muted {opacity:0.8;font-size:90%;}
            header {
                background-color: #190758;
                background-image: url(https://jupiterx.artbees.net/marketing/wp-content/uploads/sites/501/2021/02/breadcrumbs-bg-3.png);
                background-position: center left;
                background-repeat: no-repeat;
                background-size: cover;
            }
        </style>
    </head>
    <body>
        <header>
            <div class="container py-4">
                <a href="/"><img src="https://next.korho.fi/wp-content/uploads/2021/06/korho.svg" width="150px"></a>
            </div>
        </header>
        <div class="container py-5">
            <div class="card" id="fileBrowser">
            </div>
        </div>
        <script>
            (async () => {
                const response = await fetch('https://korho.fi/api/2021/github/introduction-to-programming.php');
                const data = await response.json();
                let htmlString = "";
                data.sort((a, b) => a.type.localeCompare(b.type));
                for (let file of data) {
                    if (file.type == "file") {
                        htmlString +=  `<a class="row g-0" href="?path=${file.path}">
                                            <div class="col filename p-2">F</div>
                                            <div class="col filename p-2 fw-bold">${file.name}</div>
                                            <div class="col filename p-2 muted">commit message</div>
                                            <div class="col filename p-2 muted text-end">5 minutes ago</div>
                                        </a>`;
                    } else if (file.type == "dir") {
                        htmlString +=  `<a class="row g-0" href="?path=${file.path}">
                                            <div class="col filename p-2">D</div>
                                            <div class="col filename p-2 fw-bold">${file.name}</div>
                                            <div class="col filename p-2 muted">commit message</div>
                                            <div class="col filename p-2 muted text-end">5 minutes ago</div>
                                        </a>`;
                    }
                }
                $("#fileBrowser").html(htmlString);
            })()
        </script>
    <body>
</html>